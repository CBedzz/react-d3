<style>
  #d3calculate span {
    line-height: 2;
  }
  #d3calculate .side {
    display: inline-block;
    width: 900px;
    vertical-align: middle;
  }
  #d3calculate pre {
    width: 900px;
    box-shadow: none;
  }
</style>

<section id="d3calculate">
  <h2>where to calculate?</h2>
  <div class='side'>
    <img src='slides/slide_11/d3.png' />
  </div>

  <div class='side'>
    <pre>
      <code class='javascript fragment' data-fragment-index='3'>
shouldCompomentUpdate(nextProps) {
  // if there's lots of sibling interactions, selectively update the DOM
}
      </code>
      <code class='javascript fragment' data-fragment-index='2'>
componentDidMount() {
  this.calculateData();
}
componentDidUpdate() {
  this.calculateData();
}
      </code>
      <code class='javascript fragment' data-fragment-index='1'>
calculateData() {
  // get data ready for d3â€™s enter-update-exit pattern
}
      </code>
      <code class='javascript fragment' data-fragment-index='0'>
render() {
  return (<svg ref='container' />);
}
      </code>
    </pre>
  </div>
</section>
