<style>
  #reactcalculate span {
    line-height: 2;
  }
  #reactcalculate .side {
    display: inline-block;
    width: 900px;
    vertical-align: middle;
  }
  #reactcalculate pre {
    width: 900px;
    box-shadow: none;
  }
</style>

<section id="reactcalculate">
  <div class='side'>
    <h2>where to calculate?</h2>
    <img src='slides/slide_11/reactd3.png' />
  </div>

  <div class='side'>
    <pre>
      <code>
class Graph extends Component {
      </code>
      <code class='fragment' data-fragment-index='0'>
  componentWillReceiveProps(nextProps) {
    // layouts, shapes, calculations that are only affected when data changes
    // can also use nextProps vs. this.props to selectively recalculate data
  }
      </code>
      <code class='fragment' data-fragment-index='2'>
  shouldComponentUpdate(nextProps) {
    // BONUS: if there's lots of sibling interactions, selectively update the DOM
  }
      </code>
      <code class='fragment' data-fragment-index='1'>
  render() {
    // calculations that are affected by interactions with the component itself
    // (like hover) but underlying data isn't changing
  }
      </code>
      <code>
}
      </code>
    </pre>
  </div>
</section>
