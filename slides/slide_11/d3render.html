<style>
  #d3render span {
    line-height: 2;
  }
  #d3render .side {
    display: inline-block;
    width: 900px;
    vertical-align: middle;
  }
  #d3render pre {
    width: 900px;
    box-shadow: none;
  }
  #d3render code {
    padding: 0 20px;
  }
</style>

<section id="d3render">
  <div class='side'>
    <h2>where to render?</h2>
    <img src='slides/slide_11/d3.png' />
  </div>

  <div class='side'>
    <pre>
      <code class='javascript'>
shouldCompomentUpdate(nextProps) {
  // if there's lots of sibling interactions, selectively update the DOM
}
      </code>
      <code class='javascript fragment' data-fragment-index='1'>
componentDidMount() {
 // wrap DOM element in d3 selection
 this.container = d3.select(this.refs.container);
 this.calculateData();
 this.renderGraph();
}
      </code>
      <code class='javascript fragment' data-fragment-index='2'>
componentDidUpdate() {
  this.calculateData();
  this.renderGraph();
}
      </code>
      <code class='javascript fragment' data-fragment-index='0'>
calculateData() {
  // get data ready for d3â€™s enter-update-exit pattern
}
renderGraph() {
  // d3 enter-update-exit code
}
      </code>
      <code class='javascript'>
render() {
  return (<svg ref='container' />);
}
      </code>
    </pre>
  </div>
</section>
